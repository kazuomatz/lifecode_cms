<!---
#  new.html.erb
#  Generated by LifeCodeCMS Scaffold Generator
-->
<%= content_for :breadcrumb do %>
  <% items = [
      {url: '/admin', title: Settings.form.label.home},
      {title: "#{LoginHistory.label}#{Settings.form.label.list}"},
  ]
  %>
  <%= render partial: 'layouts/breadcrumb', locals: {items: items} %>
<% end %>
<%= render partial: 'base/search_script', locals: {page: params[:page] || 1, search_path: '/admin/login_histories'} %>
<div class="container-fluid base">
  <div>
    <div class="row">
      <div class="col-sm-12 ">
        <h1 class="func-title"><%= LoginHistory.label %>管理</h1>
        <%= render partial: 'admin/login_histories/search_box' %>
        <div class="card">
          <div class="card-header">
            <strong><i class="<%= LoginHistory.icon %>"></i>　<%= LoginHistory.label %>一覧</strong>
          </div>
          <div class="card-body">
            <div class="row mt-10">
              <div class="col-sm-12">
                <div id="content-body"></div>
                <div id="pagination" class="clear"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade modal-form" tabindex="-1" role="dialog" id="modal-form">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">ログイン履歴<span></span></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer"></div>
    </div>
  </div>
  <div class="modal-regist-buttons-wrapper">
    <div class="card-footer modal-regist-buttons">
      <button type="button" class="btn btn-default btn-lg" data-dismiss="modal"><%= Settings.form.label.cancel -%></button>
      <button type="button" class="btn btn-primary modal-btn-regist btn-lg"><i class="far fa-check-circle"></i>
        <span><%= Settings.form.label.create -%></span></button>
    </div>
  </div>
</div>

<% content_for :add_js do %>
  <script>
    var weekStrings = JSON.parse('<%= raw I18n.t("date.abbr_day_names").to_json %>');
    var modalForm;
    $(function () {
      setTimeout(function () {
        $('[name=start_at], [name=end_at]').trigger('change');
      }, 500);

      $('.clear-button').on('click', function () {
        $('[name=start_at], [name=end_at]').trigger('change');
      });
    });
  </script>
<%- end %>
