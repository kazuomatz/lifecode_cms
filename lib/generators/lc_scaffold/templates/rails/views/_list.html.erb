<%#- encoding: UTF-8 -%>
<!---
#  _list.html.erb
#  Generated by LifeCodeCMS Scaffold Generator
-->
<table class="table list-table">
  <thead>
    <tr>
      <$$- <%= model.name %>.list_columns.each do | name | -$$>
      <$$- if name == :id -$$>
      <th width="120">ID</th>
      <$$- else -$$>
      <$$- column = <%= model.name %>.form_column(name) -$$>
      <th><$$= column.present? ?  column[:label] : name -$$></th>
      <$$- end -$$>
      <$$- end -$$>
      <th class="operator-column"></th>
  </thead>
  <tbody>
  <$$- <%= var_models %>.each do |<%= var_model %>| -$$>
  <tr>
    <$$- <%= model.name %>.list_columns.each do | name | -$$>
    <td><$$= <%= var_model %>[name] $$></td>
    <$$ end -$$>
    <td class="operator-column">
      <$$- if  <%= model.name %>.edit_mode == :modal $$>
      <button type="button" class="btn-primary btn edit-modal-btn" data-id="<$$= <%= var_model %>.id $$>"><i class="far fa-edit"></i> <$$= Settings.form.label.edit -$$></button>
      <$$- else -%>
      <a class="btn-primary btn edit-btn" href="<%%= edit_admin_<%= var_model %>_path(<%= var_model %>,search_params)%>"><i class="far fa-edit"></i> <$$= Settings.form.label.edit -$$></a>
      <$$- end -%>
      <button type="button" class="btn-danger btn delete-btn" data-id="<%%= <%= var_model %>.id %>" data-page="<%%= params[:page] || 1  %>"><i class="fas fa-trash"></i>  <$$= Settings.form.label.destroy -$$></button>
    </td>
  </tr>
  <%%- end -%>
  </tbody>
</table>
